<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RTM - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<header class="page-header" style="height: 60px">
    <div
        class="page-header-content"
        style="align-items: center; display: flex; height: 60px; position: fixed;"
    >
        <a class="page-logo-link" href="https://www.satori.com" style="cursor: pointer;">
            <img
                alt="Satori"
                class="page-logo-image"
                height="30"
                src="https://www.satori.com/assets/images/logo-light@2x.png"
                width="177"
            />
        </a>
    </div>
</header>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Observer.html">Observer</a><ul class='methods'><li data-type='method'><a href="Observer.html#fire">fire</a></li><li data-type='method'><a href="Observer.html#off">off</a></li><li data-type='method'><a href="Observer.html#on">on</a></li></ul></li><li><a href="RTM.html">RTM</a><ul class='methods'><li data-type='method'><a href="RTM.html#.roleSecretAuthProvider">roleSecretAuthProvider</a></li><li data-type='method'><a href="RTM.html#delete">delete</a></li><li data-type='method'><a href="RTM.html#fire">fire</a></li><li data-type='method'><a href="RTM.html#getSubscription">getSubscription</a></li><li data-type='method'><a href="RTM.html#isConnected">isConnected</a></li><li data-type='method'><a href="RTM.html#isStopped">isStopped</a></li><li data-type='method'><a href="RTM.html#off">off</a></li><li data-type='method'><a href="RTM.html#on">on</a></li><li data-type='method'><a href="RTM.html#publish">publish</a></li><li data-type='method'><a href="RTM.html#read1">read</a></li><li data-type='method'><a href="RTM.html#read2">read</a></li><li data-type='method'><a href="RTM.html#restart">restart</a></li><li data-type='method'><a href="RTM.html#resubscribe">resubscribe</a></li><li data-type='method'><a href="RTM.html#search">search</a></li><li data-type='method'><a href="RTM.html#start">start</a></li><li data-type='method'><a href="RTM.html#stop">stop</a></li><li data-type='method'><a href="RTM.html#subscribe">subscribe</a></li><li data-type='method'><a href="RTM.html#unsubscribe">unsubscribe</a></li><li data-type='method'><a href="RTM.html#write">write</a></li></ul></li><li><a href="Subscription.html">Subscription</a><ul class='methods'><li data-type='method'><a href="Subscription.html#fire">fire</a></li><li data-type='method'><a href="Subscription.html#off">off</a></li><li data-type='method'><a href="Subscription.html#on">on</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="RTM.SubscriptionMode.html">SubscriptionMode</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<div id="main">
    
    <h1 class="page-title">RTM</h1>
    

    




<section>

<header>
    
        <h2>
        RTM
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="RTM"><span class="type-signature"></span>new RTM<span class="signature">(endpoint, appkey, opts)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>The <code>RTM</code> class is the main entry point to manage the
WebSocket connection from the JavaScript SDK to RTM.</p>
<p>Use the RTM class to create a client instance from which you can
publish messages and subscribe to channels. Create separate
<a href="Subscription.html"><code>Subscription</code></a> objects for each channel to
which you want to subscribe.</p>
<p>Use the <a href="RTM.html#publish"><code>publish(channel, message, onAck)</code></a>
method to publish messages and either the
<a href="Subscription.html#on"><code>Subscription.on(name, fn)</code></a> or
<a href="RTM.html#on"><code>RTM.on(name, fn)</code></a> methods to process incoming messages.</p>
<p>A state machine for the client defines the status of the client instance.
A client instance can be in one of the following states: <code>stopped</code>,
<code>connecting</code>, <code>connected</code>, or code&gt;awaiting</code>.</p>
<p>Each client event occurs when the client enters or leaves a state. Use the
RTM.on(name, fn)]<a href="RTM.html#on"><code>RTM#on</code></a> method to define logic for when the client
transitions into or out of a state. See
<strong>State Machines</strong> in the online docs.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>endpoint</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Endpoint for RTM.
Available from the Dev Portal.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>appkey</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Appkey used to access RTM.
Available from the Dev Portal.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Additional parameters for the RTM client instance.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>minReconnectInterval</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    1000
                
                </td>
            

            <td class="description last"><p>Minimum
time period, in milliseconds, to wait between reconnection attempts.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxReconnectInterval</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    120000
                
                </td>
            

            <td class="description last"><p>Maximum
time period, in milliseconds, to wait between reconnection attempts.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>heartbeatEnabled</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Enables periodic
heartbeat monitoring for the WebSocket connection.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>authProvider</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Provider that manages
authentication for the RTM client.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>heartbeatInterval</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    60000
                
                </td>
            

            <td class="description last"><p>Interval,
in milliseconds, to wait between heartbeat messages.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>highWaterMark</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    4194304
                
                </td>
            

            <td class="description last"><p>4MB. High water mark,
in bytes, of the WebSocket write buffer. If the number of bytes queued in the
WebSocket write buffer exceeds this value, the SDK sets
<code>writeable</code> to <code>false</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lowWaterMark</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    2097152
                
                </td>
            

            <td class="description last"><p>2MB. Low water mark,
in bytes, of the WebSocket write buffer. If the buffer rises above
<code>highWaterMark</code> and then drops below <code>lowWaterMark</code>,
the SDK sets <code>writeable</code> to <code>true</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>checkWritabilityInterval</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    100
                
                </td>
            

            <td class="description last"><p>Interval,
in milliseconds, to check the queue length and update the <code>writable</code>
property as necessary.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>writable</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>Indicates if the queue length in the WebSocket write buffer, in bytes,
is lower than the <code>highWaterMark</code> value.</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// create an RTM client
var rtm = new RTM('ENDPOINT', 'APPKEY');

// create a new subscription with 'your-channel' name
var subscription = rtm.subscribe('your-channel', RTM.SubscriptionMode.SIMPLE);

// add subscription data handlers

// the subscription receives any published message
subscription.on('rtm/subscription/data', function (pdu) {
    pdu.body.messages.forEach(console.log);
});

// the client enters 'connected' state
rtm.on('enter-connected', function () {
  rtm.publish('your-channel', {key: 'value'});
});

// the client receives any PDU - PDU is passed as a parameter
rtm.on('data', function (pdu) {
  if (pdu.action.endsWith('/error')) {
    rtm.restart();
  }
});

// start the client
rtm.start();</code></pre>



    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="Observer.html">Observer</a></li>
    </ul>


    

    

    

     

    
        <h3 class="subsection-title">Namespaces</h3>

        <dl>
            <dt><a href="RTM.SubscriptionMode.html">SubscriptionMode</a></dt>
            <dd></dd>
        </dl>
    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".roleSecretAuthProvider"><span class="type-signature">(static) </span>roleSecretAuthProvider<span class="signature">(role, roleSecret, opts)</span><span class="type-signature"> &rarr; {function}</span></h4>

    



<div class="description">
    <p>Creates an authentication provider for the the role-based authentication
method.</p>
<p>The role-based authentication method is a two-step authentication process
based on the HMAC process, using the MD5 hashing routine:</p>
<p><ul></p>
<p><li>The client obtains a nonce from the server in a handshake request.</li></p>
<p><li>The client then sends an authorization request with its role secret key
hashed with the received nonce.</li>
</ul>
<br>
Obtain a role secret key from the Dev Portal for your application.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>role</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>User role to authenticate with.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>roleSecret</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Role secret key from Dev Portal.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Additional authentication options.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    30000
                
                </td>
            

            <td class="description last"><p>Amount of time, in milliseconds, before the
authentication operation times out.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line273">line 273</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Authentication provider for the role-based authentication method.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(channel, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Deletes the value for the associated channel. The <a href="RTM.html"><code>RTM</code></a> client must be connected.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Channel name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Function to attach and execute on the response PDU from
RTM. The response PDU is passed as a parameter to this function.
RTM does not send a response PDU if a callback is not specified.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line753">line 753</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>rtm.delete('channel', function (pdu) {
    console.log(pdu);
})</code></pre>



        
            

    

    <h4 class="name" id="fire"><span class="type-signature"></span>fire<span class="signature">(name)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Executes all handlers attached to the given event type.</p>
<p>The event <code>name</code> is one of the client or subscription state machine events,
for example, <code>data</code> or <code>enter-connected</code>
for the <a href="RTM.html"><code>RTM</code></a> client or <code>enter-subscribed</code> for a
<a href="Subscription.html"><code>Subscription</code></a> object.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Event name.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="Observer.html#fire">Observer#fire</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="observer.js.html">observer.js</a>, <a href="observer.js.html#line76">line 76</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getSubscription"><span class="type-signature"></span>getSubscription<span class="signature">(subscriptionId)</span><span class="type-signature"> &rarr; {<a href="Subscription.html">Subscription</a>}</span></h4>

    



<div class="description">
    <p>Returns a <a href="Subscription.html"><code>Subscription</code></a> object for the associated subscription id.
The <code>Subscription</code> object must exist.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>subscriptionId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Subscription id.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line361">line 361</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The <a href="Subscription.html"><code>Subscription</code></a> object.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Subscription.html">Subscription</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="isConnected"><span class="type-signature"></span>isConnected<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    <p>Returns <code>true</code> if the client is in the <code>connected</code> state.</p>
<p>In this state, the WebSocket connection is established and any authentication
(if necessary) has successfully completed.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line346">line 346</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p><code>true</code> if the client is in the <code>connected</code> state; false otherwise.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="isStopped"><span class="type-signature"></span>isStopped<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    <p>Returns <code>true</code> if the RTM client is in the <code>stopped</code> state.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line333">line 333</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p><code>true</code> if the client is in the <code>stopped</code> state; false otherwise.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="off"><span class="type-signature"></span>off<span class="signature">(name, fn)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Removes an event handler.</p>
<p>The event <code>name</code> is one of the client or
subscription state machine events,
for example, <code>data</code> or <code>enter-connected</code>
for the <a href="RTM.html"><code>RTM</code></a> client or <code>enter-subscribed</code> for a
<a href="Subscription.html"><code>Subscription</code></a> object.</p>
<p>The Protocol Data Unit (PDU) for the event is passed to the
<code>fn</code> function parameter.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Event name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Event handler function.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="Observer.html#off">Observer#off</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="observer.js.html">observer.js</a>, <a href="observer.js.html#line55">line 55</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="on"><span class="type-signature"></span>on<span class="signature">(name, fn)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Attaches an event handler function for named event.</p>
<p>The event <code>name</code> is one of the client or
subscription state machine events,
for example, <code>data</code> or <code>enter-connected</code>
for the <a href="RTM.html"><code>RTM</code></a> client or <code>enter-subscribed</code> for a
<a href="Subscription.html"><code>Subscription</code></a> object.</p>
<p>The Protocol Data Unit (PDU) for the event is passed to the
<code>fn</code> function parameter.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Event name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Event handler function.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="Observer.html#on">Observer#on</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="observer.js.html">observer.js</a>, <a href="observer.js.html#line30">line 30</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="publish"><span class="type-signature"></span>publish<span class="signature">(channel, message, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Publishes a message to a channel. The <a href="RTM.html"><code>RTM</code></a> client
must be connected.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Channel name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>JSON that represents the message payload to publish.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Function to attach and execute on the response PDU from
RTM. The response PDU is passed as a parameter to this function.
RTM does not send a response PDU if a callback is not specified.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line599">line 599</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>rtm.publish('channel', {key: 'value'}, function (pdu) {
  if (!pdu.action.endsWith('/ok')) {
    console.log('something went wrong');
  }
});</code></pre>



        
            

    

    <h4 class="name" id="read1"><span class="type-signature"></span>read<span class="signature">(channel, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Reads the latest message written to a specific channel, as a Protocol
Data Unit (PDU). The <a href="RTM.html"><code>RTM</code></a> client must be connected.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Channel name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Function to attach and execute on the response PDU from
RTM. The response PDU is passed as a parameter to this function.
RTM does not send a response PDU if a callback is not specified.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line677">line 677</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>rtm.read('channel', function (pdu) {
    console.log(pdu);
})</code></pre>



        
            

    

    <h4 class="name" id="read2"><span class="type-signature"></span>read<span class="signature">(channel, opts<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Reads the latest message written to specific channel, as a Protocol
Data Unit (PDU).
The <a href="RTM.html"><code>RTM</code></a> client must be connected.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Channel name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    {}
                
                </td>
            

            <td class="description last"><p>Additional <code>body</code> options for the read PDU.
For more information, see <em>RTM API/em&gt; in the online docs.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bodyOpts</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    {}
                
                </td>
            

            <td class="description last"><p>Additional read request options. These options are sent to
RTM in the <code>body</code> element of the
PDU that represents the read request.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Function to attach and execute on the response PDU from
RTM. The response PDU is passed as a parameter to this function.
RTM does not send a response PDU if a callback is not specified.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line677">line 677</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>rtm.read('channel', {
  bodyOpts: { position: '1485444476:0' },
  onAck: function (pdu) {
    console.log(pdu);
  }
})</code></pre>



        
            

    

    <h4 class="name" id="restart"><span class="type-signature"></span>restart<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Restarts the client.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line322">line 322</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="resubscribe"><span class="type-signature"></span>resubscribe<span class="signature">(channelOrSubId, opts, onCompleted<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Updates an existing <a href="Subscription.html"><code>Subscription</code></a> object. All event
handlers are copied to the updated object.</p>
<p>Use this method to change an existing subscription, for example,
to add or change a filter.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelOrSubId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Subscription id or channel name of
the existing subscription.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Properties for the updated <code>Subscription</code> object. See
<a href="RTM.html#subscribe"><code>RTM.subscribe(channelOrSubId, opts)</code></a> and the
<em>RTM API</em> in the online docs for the supported property names.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onCompleted</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Function to execute on the updated <code>Subscription</code> object, passed
as a parameter.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line502">line 502</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="search"><span class="type-signature"></span>search<span class="signature">(prefix, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Performs a channel search for a given user-defined prefix. This method passes
replies to the callback. The <a href="RTM.html"><code>RTM</code></a> client must be connected.</p>
<p>RTM may send multiple responses to the same search request: zero or
more search result PDUs with an action of <code>rtm/search/data</code>
(depending on the results of the search). Each channel found is only sent
once. After the search result PDUs, RTM follows with a positive response PDU:
<code>rtm/search/ok</code>.</p>
<p>Otherwise, RTM sends an error PDU with an action of <code>rtm/search/error</code>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prefix</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Channel prefix.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Function to attach and execute on the response PDU from
RTM. The response PDU is passed as a parameter to this function.
RTM does not send a response PDU if a callback is not specified.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line798">line 798</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var channels = [];
rtm.search('ch', function (pdu) {
    channels = channels.concat(pdu.body.channels);
    if (pdu.action === 'rtm/search/ok') {
      console.log(channels);
    }
})</code></pre>



        
            

    

    <h4 class="name" id="start"><span class="type-signature"></span>start<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Starts the client.</p>
<p>The client begins to establish the WebSocket connection
to RTM and then tracks the state of the connection. If the WebSocket
connection drops for any reason, the JavaScript SDK attempts to reconnect.</p>
<p>Use <a href="RTM.html#on"><code>RTM.on(name, fn)</code></a> to define application functionality,
for example, when the application enters or leaves the
<code>connecting</code> or <code>connected</code> states.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line292">line 292</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="stop"><span class="type-signature"></span>stop<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Stops the client. The SDK begins to close the WebSocket connection and
does not start it again unless you call <a href="RTM.html#start"><code>start()</code></a>.</p>
<p>Use this method to explicitly stop all interaction with RTM.</p>
<p>Use <a href="RTM.html#on"><code>RTM.on(name, fn)</code></a> to define application functionality,
for example, when the application enters or leaves the <code>stopped</code> state.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line310">line 310</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="subscribe"><span class="type-signature"></span>subscribe<span class="signature">(channelOrSubId, mode, bodyOpts<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="Subscription.html">Subscription</a>}</span></h4>

    



<div class="description">
    <p>Creates a subscription to the specified channel.</p>
<p>When you create a channel subscription, you can specify additional properties,
for example, add a filter to the subscription and specify the
behavior of the SDK when resubscribing after a reconnection.</p>
<p>For more information about the options for a channel subscription,
see <strong>Subscribe PDU</strong> in the online docs.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelOrSubId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>String that identifies the channel. If you do not
use the <code>filter</code> parameter, it is the channel name. Otherwise,
it is a unique identifier for the channel (subscription id).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mode</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="RTM.SubscriptionMode.html">RTM.SubscriptionMode</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Subscription mode. This mode determines the behaviour of the Javascript
SDK and RTM when resubscribing after a reconnection.</p>
<p>For more information about the options for a subscription,
see <strong>Subscribe PDU</strong> in the online docs.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bodyOpts</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    {}
                
                </td>
            

            <td class="description last"><p>Additional subscription options for a channel subscription. These options
are sent to RTM in the <code>body</code> element of the
Protocol Data Unit (PDU) that represents the subscribe request.</p>
<p>For more information about the <code>body</code> element of a PDU,
see <em>RTM API</em> in the online docs.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line441">line 441</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="RTM.SubscriptionMode.html#.SIMPLE"><code>RTM.SubscriptionMode.SIMPLE</code></a></li>
        
            <li><a href="RTM.SubscriptionMode.html#.RELIABLE"><code>RTM.SubscriptionMode.RELIABLE</code></a></li>
        
            <li><a href="RTM.SubscriptionMode.html#.ADVANCED"><code>RTM.SubscriptionMode.ADVANCED</code></a></li>
        </ul>
    </dd>
    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>Subscription object.</li>
</ul>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Subscription.html">Subscription</a></span>


    </dd>
</dl>

    


    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>var rtm = new RTM('ENDPOINT', 'APPKEY');

// create a subscription with 'your-channel' name
var subscription = rtm.subscribe('your-channel', RTM.SubscriptionMode.SIMPLE);

// the subscription receives any published message
subscription.on('rtm/subscription/data', function (pdu) {
    pdu.body.messages.forEach(console.log);
});

rtm.start();</code></pre>

    <pre class="prettyprint"><code>var rtm = new RTM('your-endpoint', 'your-appkey');

// subscribe to the channel named 'my-channel' using a filter
var subscription = rtm.subscribe('my-filter', RTM.SubscriptionMode.SIMPLE, {
  filter: 'SELECT * FROM my-channel WHERE object.param >= 1 OR object.id == 0',
});

// receive messages published to the channel
subscription.on('rtm/subscription/data', function (pdu) {
  pdu.body.messages.forEach(console.log);
});

// receive subscription data messages
subscription.on('data', function (pdu) {
  if (pdu.action.endsWith('/error')) {
    rtm.restart();
  }
});

rtm.start();</code></pre>



        
            

    

    <h4 class="name" id="unsubscribe"><span class="type-signature"></span>unsubscribe<span class="signature">(subscriptionId, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Removes the specified subscription.</p>
<p>The response Protocol Data Unit (PDU) from the RTM is
passed as a parameter to the <code>onAck</code> function.</p>
<p>For more information, see <strong>Unsubscribe PDU</strong> in the
online docs.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>subscriptionId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Subscription id or channel name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Function to execute on the response PDU from
RTM. The response PDU is passed as a parameter to this function.
RTM does not send a response PDU if a callback is not specified.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line541">line 541</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="write"><span class="type-signature"></span>write<span class="signature">(channel, value, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Writes a value to the specified channel. The <a href="RTM.html"><code>RTM</code></a> client must be connected.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Channel name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>JSON that represents the message payload to publish.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Function to attach and execute on the response PDU from
RTM. The response PDU is passed as a parameter to this function.
RTM does not send a response PDU if a callback is not specified.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line718">line 718</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>rtm.write('channel', 'value', function (pdu) {
    console.log(pdu);
})</code></pre>



        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Sat Apr 01 2017 21:02:19 GMT+0200 (CEST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>