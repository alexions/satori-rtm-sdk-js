<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RTM - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<header class="page-header" style="height: 60px">
    <div
        class="page-header-content"
        style="align-items: center; display: flex; height: 60px; position: fixed;"
    >
        <a class="page-logo-link" href="https://www.satori.com" style="cursor: pointer;">
            <img
                alt="Satori"
                class="page-logo-image"
                height="30"
                src="https://www.satori.com/assets/images/logo-light@2x.png"
                width="177"
            />
        </a>
    </div>
</header>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Observer.html">Observer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Observer.html#fire">fire</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Observer.html#off">off</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Observer.html#on">on</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RTM.html">RTM</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#.roleSecretAuthProvider">roleSecretAuthProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#fire">fire</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#getSubscription">getSubscription</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#isConnected">isConnected</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#isStopped">isStopped</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#off">off</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#on">on</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#publish">publish</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#read1">read</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#read2">read</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#restart">restart</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#resubscribe">resubscribe</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#search">search</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#start">start</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#stop">stop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#subscribe">subscribe</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#unsubscribe">unsubscribe</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RTM.html#write">write</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Subscription.html">Subscription</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Subscription.html#fire">fire</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Subscription.html#off">off</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Subscription.html#on">on</a></span></li><li class="nav-heading">Namespaces</li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="RTM.SubscriptionMode.html">SubscriptionMode</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li>
</nav>

<div id="main">
    
    <h1 class="page-title">RTM</h1>
    

    




<section>

<header>
    
        <h2>
        RTM
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
<div class="section-method">

    

    <h4 class="name" id="RTM"><span class="type-signature"></span>new RTM<span class="signature">(endpoint, appkey, opts)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>An RTM client is the main entry point for accessing RTM.</p>
<p>To connect a client to RTM, you must call <a href="RTM.html#start"><code>RTM.start()</code></a>. The RTM SDK attempts
to reconnect to RTM if the connection to RTM fails for any reason.</p>
<p>A client instance can be in one of the following connection states:</p>
<ul>
<li><strong>stopped:</strong> You called <a href="RTM.html#stop"><code>RTM.stop()</code></a> or RTM disconnected and
hasn't yet reconnected.</li>
<li><strong>connecting:</strong> You called <a href="RTM.html#start"><code>RTM.start()</code></a> or the client is
trying to reconnect to RTM.</li>
<li><strong>connected:</strong> The client is connected to RTM.</li>
<li><strong>awaiting:</strong> The client disconnected and is waiting the specified time period
before reconnecting. See the <code>minReconnectInterval</code> and
<code>maxReconnectInterval</code> options.</li>
</ul>
<p>For each state, an event occurs when the client enters or leaves the state. Call
<a href="RTM.html#on"><code>RTM.on(name, fn)</code></a> method to add code that's executed when the client
transitions into or out of a state. The syntax for the value of <code>name</code> is</p>
<p><code><strong>[ enter- | leave- ][ stopped | connecting | connected | awaiting ]</strong></code></p>
<p>For example, <code>RTM.on(&quot;enter-connected&quot;, myFunction)</code>. The next example also shows you
how to call <code>RTM.on()</code></p>
</div>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>writable</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            

            

            <td class="description last"><p>A general indicator of the status of the write buffer.
<code>true</code> indicates that the write buffer is shrinking, while <code>false</code>
indicates that the write buffer is growing. Test <code>writable</code> to see whether you should
continue to write or pause writing.</p></td>
        </tr>

        

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line125">line 125</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>endpoint</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>WebSocket endpoint for RTM
Available from the Dev Portal.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>appkey</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>appkey used to access RTM
Available from the Dev Portal.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>object</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>additional RTM client parameters</p>
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>minReconnectInterval</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>integer</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    1000
                
                </td>
            

            <td class="description last">
                <p>minimum
time period, in milliseconds, to wait between reconnection attempts</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxReconnectInterval</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>integer</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    120000
                
                </td>
            

            <td class="description last">
                <p>maximum
time period, in milliseconds, to wait between reconnection attempts</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>heartbeatEnabled</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last">
                <p>enables periodic
heartbeat monitoring for the WebSocket connection</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>authProvider</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                <p>object that manages authentication for the client.
See <code>auth.js</code></p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>heartbeatInterval</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>integer</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    60000
                
                </td>
            

            <td class="description last">
                <p>interval,
in milliseconds, to wait between heartbeat messages</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>highWaterMark</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>integer</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    4194304
                
                </td>
            

            <td class="description last">
                <p>4MB. High water mark in bytes. If the number
of bytes in the WebSocket write buffer exceeds this value,
<code>writeable</code> is set to <code>false</code>.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lowWaterMark</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>integer</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    2097152
                
                </td>
            

            <td class="description last">
                <p>2MB. Low water mark, in bytes. If the
Websocket write buffer rises above <code>highWaterMark</code> and then drops below
<code>lowWaterMark</code>, <code>writeable</code> is set to <code>true</code>.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>checkWritabilityInterval</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>integer</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    100
                
                </td>
            

            <td class="description last">
                <p>Interval,
in milliseconds, between checks of the queue length and updates of the
<code>writeable</code> property if necessary.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>proxyAgent</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                <p>proxy server agent.
A custom http.Agent implementation like:
https-proxy-agent https://github.com/TooTallNate/node-https-proxy-agent#ws-websocket-connection-example
socks-proxy-agent https://github.com/TooTallNate/node-socks-proxy-agent#ws-websocket-connection-example</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> is thrown if mandatory parameters are
missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>





<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>// Creates an RTM client
var rtm = new RTM('YOUR_ENDPOINT', 'YOUR_APPKEY');

// Creates a new subscription to the channel named 'your-channel'
var subscription = rtm.subscribe('your-channel', RTM.SubscriptionMode.SIMPLE);

// Adds a subscription event listener that logs messages to the console as they arrive.
// The subscription receives all messages in the subscribed channel
subscription.on('rtm/subscription/data', function (pdu) {
    pdu.body.messages.forEach(console.log);
});

// Sets a connection event listener that publishes a message to the channel named
// &lt;code>your-channel&lt;/code>
// when the client is connected to RTM (the client enters the 'connected' state)
rtm.on('enter-connected', function () {
  rtm.publish('your-channel', {key: 'value'});
});

// Sets a client event listener that checks incoming messages to see if they indicate an error.
// &lt;code>rtm.on()&lt;/code> is called for all incoming messages.
rtm.on('data', function (pdu) {
  if (pdu.action.endsWith('/error')) {
    rtm.restart();
  }
});

// Starts the client
rtm.start();</code></pre>

</div>

</div>
    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="Observer.html">Observer</a></li>
    </ul>


    

    

    

     

    
        <h3 class="subsection-title">Namespaces</h3>

        <dl>
            <dt><a href="RTM.SubscriptionMode.html">SubscriptionMode</a></dt>
            <dd></dd>
        </dl>
    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            
<div class="section-method">

    

    <h4 class="name" id=".roleSecretAuthProvider"><span class="type-signature">(static) </span>roleSecretAuthProvider<span class="signature">(role, roleSecret, opts)</span><span class="type-signature"> &rarr; {function}</span></h4>

    



<div class="description">
    <p>Creates a role-based authentication provider for the client</p>
<p><p>
The role-based authentication method is a two-step authentication process based on the HMAC
process, using the MD5 hashing routine:</p>
<p><ul></p>
<p><li>The client obtains a nonce from the server in a handshake request.</li></p>
<p><li>The client then sends an authorization request with its role secret key hashed with the
received nonce.</li>
</ul></p>
<p><p>
To get a role secret key for your application, go to the Dev Portal.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line285">line 285</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>role</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>role name set in the Dev Portal</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>roleSecret</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>role secret key</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>object</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>additional authentication options</p>
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>integer</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    30000
                
                </td>
            

            <td class="description last">
                <p>amount of time, in milliseconds, before the
authentication operation times out</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>thrown if mandatory parameters are missing or invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>function</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>authentication provider for the role-based authentication method</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(channel, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Deletes the value for the associated channel. The <a href="RTM.html"><code>RTM</code></a> client must be connected.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line749">line 749</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>Channel name.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>Callback function that's invoked when RTM responds to the publish request. RTM passes the
response PDU to this function. If you don't specify <code>onAck</code>, RTM doesn't send a
response PDU.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>thrown if required parameters are missing or invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>rtm.delete('channel', function (pdu) {
    console.log(pdu);
})</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="fire"><span class="type-signature"></span>fire<span class="signature">(name, &hellip;args)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Executes all handlers attached for the specified event type.</p>
<p>The event specified in <code>name</code> is an <a href="RTM.html"><code>RTM</code></a> or
<a href="Subscription.html"><code>Subscription</code></a> event that has an attached event handler function
(see the <code>on()</code> function).</p>
</div>





<dl class="details">

    

    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="Observer.html#fire">Observer#fire</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="observer.js.html">observer.js</a>, <a href="observer.js.html#line77">line 77</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>name of an event that has attached handlers</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>args</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">
                <p>event arguments.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getSubscription"><span class="type-signature"></span>getSubscription<span class="signature">(subscriptionId)</span><span class="type-signature"> &rarr; {<a href="Subscription.html">Subscription</a>}</span></h4>

    



<div class="description">
    <p>Returns the existing <a href="Subscription.html"><code>Subscription</code></a> object for the specified subscription id.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line375">line 375</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>subscriptionId</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the id for an existing <a href="Subscription.html"><code>Subscription</code></a> object</p>
                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>thrown if <code>subscriptionId</code> is missing, invalid, or if a
<a href="Subscription.html"><code>Subscription</code></a> object with that id doesn't exist.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="Subscription.html">Subscription</a></code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>the <a href="Subscription.html"><code>Subscription</code></a> object</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="isConnected"><span class="type-signature"></span>isConnected<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    <p>Returns <code>true</code> if the client is in the <code>connected</code> state.</p>
<p>In this state, the WebSocket connection to RTM is established and any requested authentication
has completed successfully .</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line361">line 361</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>boolean</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p><code>true</code> if the client is in the <code>connected</code> state,
otherwise <code>false</code></p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="isStopped"><span class="type-signature"></span>isStopped<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    <p>Returns <code>true</code> if the RTM client is in the <code>stopped</code> state.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line348">line 348</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>boolean</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p><code>true</code> if the client is in the <code>stopped</code> state,
otherwise <code>false</code></p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="off"><span class="type-signature"></span>off<span class="signature">(name, fn)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Removes an event handler.</p>
<p>The event specified in <code>name</code> is an <a href="RTM.html"><code>RTM</code></a> or
<a href="Subscription.html"><code>Subscription</code></a> event that has an attached event handler function
(see the <code>on()</code> function).</p>
<p>The Protocol Data Unit (PDU) for the event is passed to the
<code>fn</code> function parameter.</p>
</div>





<dl class="details">

    

    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="Observer.html#off">Observer#off</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="observer.js.html">observer.js</a>, <a href="observer.js.html#line56">line 56</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>event name</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>event handler function</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="on"><span class="type-signature"></span>on<span class="signature">(name, fn)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Attaches an event handler function for the event specified in <code>name</code>.</p>
<p>The event is usually related to a client or subscription state. It may also be an event
that occurs when the client or subscription receives information from RTM. For example, the
the following are <a href="RTM.html"><code>RTM</code></a> client events:</p>
<p><ul>
    <li><code>data:</code> The client received a PDU from RTM.</li>
    <li><code>enter-connected:</code> The client is now connected to RTM.</li>
</ul>
A possible event for a <a href="Subscription.html"><code>Subscription</code></a> is <code>enter-subscribed</code>.</p>
<p>The <code>fn</code> parameter is a function that's invoked when the event occurs. The PDU for
the event is passed to this function.</p>
</div>





<dl class="details">

    

    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="Observer.html#on">Observer#on</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="observer.js.html">observer.js</a>, <a href="observer.js.html#line33">line 33</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>event name</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>event handler function</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="publish"><span class="type-signature"></span>publish<span class="signature">(channel, message, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Publishes a message to a channel. The client must be connected.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line596">line 596</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>channel name</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>JSON</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>JSON containing the message to publish</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>Callback function that's invoked when RTM responds to the publish request. RTM passes the
response PDU to this function. If you don't specify <code>onAck</code>, RTM doesn't send a
response PDU.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>thrown if required parameters are missing or invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>// Publishes to the channel named "channel", and provides a callback function that's invoked when
// RTM responds to the request. If the PDU "action" value doesn't end with "ok", the function
// logs an error.
rtm.publish('channel', {key: 'value'}, function (pdu) {
  if (!pdu.action.endsWith('/ok')) {
    console.log('something went wrong');
  }
});</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="read1"><span class="type-signature"></span>read<span class="signature">(channel, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Reads the latest message written to a specific channel, as a Protocol
Data Unit (<strong>PDU</strong>). The client must be connected.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line674">line 674</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>name of the channel to read from</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>Callback function that's invoked when RTM responds to the publish request. RTM passes the
response PDU to this function. If you don't specify <code>onAck</code>, RTM doesn't send a
response PDU.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>thrown if required parameters are missing or invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>// Reads from the channel named 'channel' and prints the response PDU
rtm.read('channel', function (pdu) {
    console.log(pdu);
})</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="read2"><span class="type-signature"></span>read<span class="signature">(channel, opts<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Reads the latest message written to specific channel, as a Protocol
Data Unit (<strong>PDU</strong>). The client must be connected.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line674">line 674</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                <p>name of the channel to read from</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    {}
                
                </td>
            

            <td class="description last">
                <p>Additional options in the read PDU that's sent to RTM in the request.
For more information, see the section &quot;Read PDU&quot; in the &quot;RTM API&quot; chapter of <em>Satori Docs/em&gt;.</p>
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bodyOpts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    {}
                
                </td>
            

            <td class="description last">
                <p>Additional options in the <code>body</code> element of the read PDU that's sent to
RTM in the request.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                <p>Callback function that's invoked when RTM responds to the publish request. RTM passes the
response PDU to this function. If you don't specify <code>onAck</code>, RTM doesn't send a
response PDU.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>thrown if required parameters are missing or invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>// Reads from the channel named 'channel', starting at the position specified by the
// "position" key.
// Prints the response PDU.
rtm.read('channel', {
  bodyOpts: { position: '1485444476:0' },
  onAck: function (pdu) {
    console.log(pdu);
  }
})</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="restart"><span class="type-signature"></span>restart<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Calls <a href="RTM.html#stop"><code>RTM.stop()</code></a> followed by <code>RTM.start()</code>.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line337">line 337</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="resubscribe"><span class="type-signature"></span>resubscribe<span class="signature">(channelOrSubId, opts, onCompleted<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Updates an existing <a href="Subscription.html"><code>Subscription</code></a> object. Existing
<a href="Subscription.html"><code>Subscription</code></a> event handlers are copied to the updated object.</p>
<p>Use this method to change an existing subscription. For example, use it to add or change a
streamview.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line505">line 505</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelOrSubId</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>subscription id or channel name for
the existing subscription</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>Properties for the updated <code>Subscription</code> object. See
<code>RTM.subscribe(channelOrSubId, opts)</code> for the supported property names.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onCompleted</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>function to execute on the updated <code>Subscription</code> object</p>
                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>thrown if mandatory parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="search"><span class="type-signature"></span>search<span class="signature">(prefix, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Performs a channel search for a given user-defined prefix. This method passes
replies to the callback. The <a href="RTM.html"><code>RTM</code></a> client must be connected.</p>
<p>RTM may send multiple responses to the same search request: zero or
more search result PDUs with an action of <code>rtm/search/data</code>
(depending on the results of the search). Each channel found is only sent
once. After the search result PDUs, RTM follows with a positive response PDU:
<code>rtm/search/ok</code>.</p>
<p>Otherwise, RTM sends an error PDU with an action of <code>rtm/search/error</code>.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line794">line 794</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prefix</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>Channel prefix.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>Function to attach and execute on the response PDU from
RTM. The response PDU is passed as a parameter to this function.
RTM does not send a response PDU if a callback is not specified.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p><code>TypeError</code> indicates that mandatory
parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>var channels = [];
rtm.search('ch', function (pdu) {
    channels = channels.concat(pdu.body.channels);
    if (pdu.action === 'rtm/search/ok') {
      console.log(channels);
    }
})</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="start"><span class="type-signature"></span>start<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Starts the client.</p>
<p>The client begins to establish the WebSocket connection
to RTM and then tracks the state of the connection. If the WebSocket
connection drops for any reason, the JavaScript SDK attempts to reconnect.</p>
<p>Use [RTM.on(name, fn)]<a href="RTM.html#on"><code>RTM.on()</code></a> to define application functionality,
for example, when the application enters or leaves the
<code>connecting</code> or <code>connected</code> states.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line304">line 304</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="stop"><span class="type-signature"></span>stop<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Stops the client. The RTM SDK starts to close the WebSocket connection and
does not start it again unless you call <a href="RTM.html#start"><code>RTM.start()</code></a>.</p>
<p>Use this method to explicitly stop all interaction with RTM.</p>
<p>Use <a href="RTM.html#on"><code>RTM.on(&quot;enter-stopped&quot;, function())</code></a> or
<a href="RTM.html#on"><code>RTM.on(&quot;leave-stopped&quot;, function())</code></a> to
provide code that executes when the client enters or leaves the <code>stopped</code> state.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line323">line 323</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="subscribe"><span class="type-signature"></span>subscribe<span class="signature">(channelOrSubId, mode, bodyOpts<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="Subscription.html">Subscription</a>}</span></h4>

    



<div class="description">
    <p>Creates a subscription to the specified channel.</p>
<p>When you create a subscription, you can specify additional properties.
For example, you can add a streamview, or you can specify the
what the SDK does when it resubscribes after a reconnection.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line447">line 447</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="RTM.SubscriptionMode.html#.SIMPLE"><code>RTM.SubscriptionMode.SIMPLE</code></a></li>
        
            <li><a href="RTM.SubscriptionMode.html#.RELIABLE"><code>RTM.SubscriptionMode.RELIABLE</code></a></li>
        
            <li><a href="RTM.SubscriptionMode.html#.ADVANCED"><code>RTM.SubscriptionMode.ADVANCED</code></a></li>
        </ul>
    </dd>
    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelOrSubId</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                <p>string containing a channel id or name. If you do not
specify the <code>filter</code> parameter, specify the channel name. Otherwise,
specify a unique identifier for your subscription to this channel.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mode</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="RTM.SubscriptionMode.html">RTM.SubscriptionMode</a></code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                <p>subscription mode. This mode determines the behaviour of the RTM SDK and RTM when resubscribing
after a reconnection. See <a href="global.html#SubscriptionMode"><code>SubscriptionMode</code></a>.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bodyOpts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    {}
                
                </td>
            

            <td class="description last">
                <p>additional options for the subscription</p>
                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>thrown if mandatory parameters are missing or invalid.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="Subscription.html">Subscription</a></code></span>


    </dd>
</dl>


<div class="param-desc">
    <ul>
<li>subscription object</li>
</ul>
</div>

    
</div>



<div class="section-examples">
<h5>Examples</h5>

    <pre class="prettyprint"><code>// Creates a new RTM client
var rtm = new RTM('YOUR_ENDPOINT', 'YOUR_APPKEY');

// Creates a subscription with the name 'your-channel'
var subscription = rtm.subscribe('your-channel', RTM.SubscriptionMode.SIMPLE);

// Writes incoming messages to the log
subscription.on('rtm/subscription/data', function (pdu) {
    pdu.body.messages.forEach(console.log);
});

// Starts the client
rtm.start();</code></pre>

    <pre class="prettyprint"><code>// Creates a new RTM client
var rtm = new RTM('YOUR_ENDPOINT', 'YOUR_APPKEY');

// Subscribes to the channel named 'my-channel' using a streamview
var subscription = rtm.subscribe('my-filter', RTM.SubscriptionMode.SIMPLE, {
  filter: 'SELECT * FROM my-channel WHERE object.param >= 1 OR object.id == 0',
});

// Writes incoming messages to the log
subscription.on('rtm/subscription/data', function (pdu) {
  pdu.body.messages.forEach(console.log);
});

// Sets a client event listener, for unsolicited subscription PDUs, that reacts to an error PDU
// by restarting the client connection. The PDU is passed as a parameter.
rtm.on('data', function (pdu) {
  if (pdu.action.endsWith('/error')) {
    rtm.restart();
  }

rtm.start();</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="unsubscribe"><span class="type-signature"></span>unsubscribe<span class="signature">(subscriptionId, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Removes the specified subscription.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line537">line 537</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>subscriptionId</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>Subscription id or channel name.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>Callback function that's invoked when RTM responds to the unsubscribe request. RTM passes the
response PDU to this function. If you don't specify <code>onAck</code>, RTM doesn't send a
response PDU.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>thrown if required parameters are missing or invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="write"><span class="type-signature"></span>write<span class="signature">(channel, value, onAck<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    



<div class="description">
    <p>Writes a value to the specified channel. The client must be connected.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rtm.js.html">rtm.js</a>, <a href="rtm.js.html#line715">line 715</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>name of the channel to write to</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>JSON</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>JSON containing the PDU to write to the channel</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAck</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>Callback function that's invoked when RTM responds to the publish request. RTM passes the
response PDU to this function. If you don't specify <code>onAck</code>, RTM doesn't send a
response PDU.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>thrown if required parameters are missing or invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>void</code></span>


    </dd>
</dl>


    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>// Writes the string 'value' to the channel named 'channel' and prints the response PDU.
rtm.write('channel', 'value', function (pdu) {
    console.log(pdu);
})</code></pre>

</div>

</div>
        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Fri Aug 11 2017 16:47:12 GMT+0200 (CEST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>